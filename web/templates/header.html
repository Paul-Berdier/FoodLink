<header class="top-menu">
    <div class="overlap-10">
        <!-- Left menu -->
        <div class="menu-container menu-gauche">
            <a class="nav-link" href="{{ url_for('index') }}">Accueil</a>
            <a class="nav-link" href="#">Le concept</a>
        </div>

        <!-- Centered logo -->
        <div class="ellipse">
            <img class="logo" src="{{ url_for('static', filename='img/foodlink_small.png') }}" alt="Logo FoodLink" width="150" height="auto">
        </div>

        <!-- Right menu -->
        <div class="menu-container menu-droite">
            <a class="nav-link" href="#contact">Contact</a>
            {% if current_user.is_authenticated %}
                <a class="nav-link" href="{{ url_for('profile') }}">Profil</a>
                <a class="nav-link" href="{{ url_for('logout') }}">Déconnexion</a>
            {% else %}
                <a class="nav-link" href="{{ url_for('login') }}">Connexion</a>
            {% endif %}
        </div>

        <!-- Mobile burger menu button -->
        <button class="burger-button" type="button">
            <span class="burger-text">Menu</span>
        </button>
    </div>

    <!-- Mobile menu overlay -->
    <div class="mobile-menu">
        <div class="mobile-menu-content">
            <a class="mobile-nav-link" href="{{ url_for('index') }}">Accueil</a>
            <a class="mobile-nav-link" href="#">Le concept</a>
            <a class="mobile-nav-link" href="#contact">Contact</a>
            {% if current_user.is_authenticated %}
                <a class="mobile-nav-link" href="{{ url_for('profile') }}">Profil</a>
                <a class="mobile-nav-link" href="{{ url_for('logout') }}">Déconnexion</a>
            {% else %}
                <a class="mobile-nav-link" href="{{ url_for('login') }}">Connection</a>
            {% endif %}
        </div>
    </div>
</header>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const header = document.querySelector('.top-menu');
        
        function handleScroll() {
            if (window.scrollY > 10) { // Seuil très bas pour voir l'effet rapidement
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }

        // Vérification initiale
        handleScroll();
        
        // Ajout de l'écouteur de scroll avec throttling pour de meilleures performances
        let ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    handleScroll();
                    ticking = false;
                });
                ticking = true;
            }
        });
    });
</script>
